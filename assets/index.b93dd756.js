import{g as U}from"./index.9dfc6b81.js";import{i as R,l as b,p as h,r as x,m as I}from"./mat4.5774bfd4.js";var C="precision mediump float;attribute vec3 vertPosition;attribute vec2 vertTexCoord;varying vec2 fragTexCoord;uniform mat4 mWorld;uniform mat4 mView;uniform mat4 mProj;void main(){fragTexCoord=vertTexCoord;gl_Position=mProj*mView*mWorld*vec4(vertPosition,1.0);}",D="precision mediump float;varying vec2 fragTexCoord;uniform sampler2D sampler;void main(){gl_FragColor=texture2D(sampler,fragTexCoord);}",M="/assets/crate.1a520fc9.png";const P=new Image;P.src=M;setTimeout(()=>{const e=U();e.viewport(0,0,e.canvas.width,e.canvas.height),e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.frontFace(e.CCW),e.cullFace(e.BACK);const t=e.createShader(e.VERTEX_SHADER),a=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(t,C),e.shaderSource(a,D),e.compileShader(t),e.compileShader(a),!e.getShaderParameter(t,e.COMPILE_STATUS)){const m=e.getShaderInfoLog(t);console.warn("Vertex shader compilation failed:",m)}if(!e.getShaderParameter(a,e.COMPILE_STATUS)){const m=e.getShaderInfoLog(a);console.warn("Fragment shader compilation failed:",m)}const r=e.createProgram();e.attachShader(r,t),e.attachShader(r,a),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||console.warn("Program linking failed:",e.getProgramInfoLog(r)),e.validateProgram(r),e.getProgramParameter(r,e.VALIDATE_STATUS)||console.warn("Program validation failed:",e.getProgramInfoLog(r)),e.useProgram(r);var v=[-1,1,-1,0,0,-1,1,1,0,1,1,1,1,1,1,1,1,-1,1,0,-1,1,1,0,0,-1,-1,1,1,0,-1,-1,-1,1,1,-1,1,-1,0,1,1,1,1,1,1,1,-1,1,0,1,1,-1,-1,0,0,1,1,-1,1,0,1,1,1,1,1,1,-1,1,1,0,-1,-1,1,0,0,-1,1,1,0,1,1,1,-1,0,0,1,-1,-1,0,1,-1,-1,-1,1,1,-1,1,-1,1,0,-1,-1,-1,1,1,-1,-1,1,1,0,1,-1,1,0,0,1,-1,-1,0,1],c=[0,1,2,0,2,3,5,4,6,6,4,7,8,9,10,8,10,11,13,12,14,15,14,12,16,17,18,16,18,19,21,20,22,22,20,23];const T=e.createTexture();e.bindTexture(e.TEXTURE_2D,T),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,P),e.bindTexture(e.TEXTURE_2D,null);const S=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,S),e.bufferData(e.ARRAY_BUFFER,new Float32Array(v),e.STATIC_DRAW);const u=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW);const E=e.getAttribLocation(r,"vertPosition"),s=e.getAttribLocation(r,"vertTexCoord");e.vertexAttribPointer(E,3,e.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,2,e.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),e.enableVertexAttribArray(E),e.enableVertexAttribArray(s);const l=e.getUniformLocation(r,"mWorld"),F=e.getUniformLocation(r,"mView"),L=e.getUniformLocation(r,"mProj"),o=new Float32Array(16),f=new Float32Array(16),A=new Float32Array(16);R(o),b(f,[0,0,-8],[0,0,0],[0,1,0]),h(A,45*Math.PI/180,e.canvas.clientWidth/e.canvas.clientHeight,.1,1e3),e.uniformMatrix4fv(l,!1,o),e.uniformMatrix4fv(F,!1,f),e.uniformMatrix4fv(L,!1,A);const d=new Float32Array(16),g=new Float32Array(16);let i=0;const n=new Float32Array(16);R(n);const _=()=>{i=performance.now()/1e3/6*2*Math.PI,x(g,n,i,[0,1,0]),x(d,n,i/4,[1,0,0]),I(o,g,d),e.uniformMatrix4fv(l,!1,o),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.bindTexture(e.TEXTURE_2D,T),e.activeTexture(e.TEXTURE0),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),requestAnimationFrame(_)};requestAnimationFrame(_)},100);
