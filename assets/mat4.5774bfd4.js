var B=1e-6;Math.hypot||(Math.hypot=function(){for(var r=0,a=arguments.length;a--;)r+=arguments[a]*arguments[a];return Math.sqrt(r)});function C(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function D(r,a,p){var x=a[0],n=a[1],i=a[2],e=a[3],m=a[4],f=a[5],g=a[6],M=a[7],c=a[8],z=a[9],v=a[10],I=a[11],N=a[12],O=a[13],b=a[14],k=a[15],h=p[0],s=p[1],y=p[2],l=p[3];return r[0]=h*x+s*m+y*c+l*N,r[1]=h*n+s*f+y*z+l*O,r[2]=h*i+s*g+y*v+l*b,r[3]=h*e+s*M+y*I+l*k,h=p[4],s=p[5],y=p[6],l=p[7],r[4]=h*x+s*m+y*c+l*N,r[5]=h*n+s*f+y*z+l*O,r[6]=h*i+s*g+y*v+l*b,r[7]=h*e+s*M+y*I+l*k,h=p[8],s=p[9],y=p[10],l=p[11],r[8]=h*x+s*m+y*c+l*N,r[9]=h*n+s*f+y*z+l*O,r[10]=h*i+s*g+y*v+l*b,r[11]=h*e+s*M+y*I+l*k,h=p[12],s=p[13],y=p[14],l=p[15],r[12]=h*x+s*m+y*c+l*N,r[13]=h*n+s*f+y*z+l*O,r[14]=h*i+s*g+y*v+l*b,r[15]=h*e+s*M+y*I+l*k,r}function G(r,a,p,x){var n=x[0],i=x[1],e=x[2],m=Math.hypot(n,i,e),f,g,M,c,z,v,I,N,O,b,k,h,s,y,l,q,w,A,E,L,P,S,d,j;return m<B?null:(m=1/m,n*=m,i*=m,e*=m,f=Math.sin(p),g=Math.cos(p),M=1-g,c=a[0],z=a[1],v=a[2],I=a[3],N=a[4],O=a[5],b=a[6],k=a[7],h=a[8],s=a[9],y=a[10],l=a[11],q=n*n*M+g,w=i*n*M+e*f,A=e*n*M-i*f,E=n*i*M-e*f,L=i*i*M+g,P=e*i*M+n*f,S=n*e*M+i*f,d=i*e*M-n*f,j=e*e*M+g,r[0]=c*q+N*w+h*A,r[1]=z*q+O*w+s*A,r[2]=v*q+b*w+y*A,r[3]=I*q+k*w+l*A,r[4]=c*E+N*L+h*P,r[5]=z*E+O*L+s*P,r[6]=v*E+b*L+y*P,r[7]=I*E+k*L+l*P,r[8]=c*S+N*d+h*j,r[9]=z*S+O*d+s*j,r[10]=v*S+b*d+y*j,r[11]=I*S+k*d+l*j,a!==r&&(r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15]),r)}function F(r,a,p,x,n){var i=1/Math.tan(a/2),e;return r[0]=i/p,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n!=null&&n!==1/0?(e=1/(x-n),r[10]=(n+x)*e,r[14]=2*n*x*e):(r[10]=-1,r[14]=-2*x),r}var H=F;function J(r,a,p,x){var n,i,e,m,f,g,M,c,z,v,I=a[0],N=a[1],O=a[2],b=x[0],k=x[1],h=x[2],s=p[0],y=p[1],l=p[2];return Math.abs(I-s)<B&&Math.abs(N-y)<B&&Math.abs(O-l)<B?C(r):(M=I-s,c=N-y,z=O-l,v=1/Math.hypot(M,c,z),M*=v,c*=v,z*=v,n=k*z-h*c,i=h*M-b*z,e=b*c-k*M,v=Math.hypot(n,i,e),v?(v=1/v,n*=v,i*=v,e*=v):(n=0,i=0,e=0),m=c*e-z*i,f=z*n-M*e,g=M*i-c*n,v=Math.hypot(m,f,g),v?(v=1/v,m*=v,f*=v,g*=v):(m=0,f=0,g=0),r[0]=n,r[1]=m,r[2]=M,r[3]=0,r[4]=i,r[5]=f,r[6]=c,r[7]=0,r[8]=e,r[9]=g,r[10]=z,r[11]=0,r[12]=-(n*I+i*N+e*O),r[13]=-(m*I+f*N+g*O),r[14]=-(M*I+c*N+z*O),r[15]=1,r)}var K=D;export{C as i,J as l,K as m,H as p,G as r};
